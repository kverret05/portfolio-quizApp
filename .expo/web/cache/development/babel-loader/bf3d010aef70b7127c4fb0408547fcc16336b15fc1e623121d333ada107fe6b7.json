{"ast":null,"code":"import React from 'react';\nimport View from \"react-native-web/dist/exports/View\";\nimport Text from \"react-native-web/dist/exports/Text\";\nimport FlatList from \"react-native-web/dist/exports/FlatList\";\nimport { Button, CheckBox } from 'react-native-elements';\nimport { styles } from \"../App\";\nimport RestartQuiz from \"./RestartQuiz\";\nimport { jsx as _jsx } from \"react/jsx-runtime\";\nimport { jsxs as _jsxs } from \"react/jsx-runtime\";\nfunction Summary(_ref) {\n  var route = _ref.route;\n  var calculateCorrect = function calculateCorrect(userSelected, correct, type) {\n    var userCorrect = false;\n    if (type === \"multiple-answer\") {\n      userCorrect = userSelected.sort().toString() === correct.sort().toString();\n    } else {\n      userCorrect = userSelected === correct;\n    }\n    return userCorrect;\n  };\n  var calculateCorrectSet = function calculateCorrectSet(userSelected, correct, type) {\n    var userCorrect = false;\n    if (type === \"multiple-answer\") {\n      userCorrect = correct.every(function (item) {\n        return userSelected.includes(item);\n      }) && userSelected.every(function (item) {\n        return correct.includes(item);\n      });\n    } else {\n      userCorrect = userSelected === correct;\n    }\n    return userCorrect;\n  };\n  var totalScore = 0;\n  for (var i = 0; i < route.params.data.length; i++) {\n    if (calculateCorrect(route.params.userChoices[i], route.params.data[i].correct, route.params.data[i].type)) {\n      totalScore++;\n    }\n  }\n  return _jsxs(View, {\n    style: styles.container,\n    children: [_jsx(FlatList, {\n      data: route.params.data,\n      renderItem: function renderItem(_ref2) {\n        var item = _ref2.item,\n          index = _ref2.index;\n        var choices = item.choices,\n          prompt = item.prompt,\n          type = item.type,\n          correct = item.correct;\n        var userSelected = route.params.userChoices[index];\n        var userCorrect = calculateCorrect(userSelected, correct, type);\n        return _jsxs(View, {\n          children: [_jsx(Text, {\n            children: prompt\n          }), choices.map(function (value, choiceIndex) {\n            var incorrect = false;\n            var userDidSelect = false;\n            if (type === \"multiple-answer\") {\n              userDidSelect = userSelected.includes(choiceIndex);\n              incorrect = userSelected && !correct.includes(choiceIndex) && userSelected.includes(choiceIndex);\n            } else {\n              incorrect = userSelected !== correct;\n              incorrect = userSelected && userSelected !== correct;\n            }\n            return _jsx(CheckBox, {\n              containerStyle: {\n                backgroundColor: userDidSelect ? incorrect === false ? \"green\" : \"gray\" : undefined\n              },\n              checked: type === \"multiple-answer\" ? correct.includes(choiceIndex) : correct === choiceIndex,\n              textStyle: {\n                textDecorationLine: incorrect ? \"line-through\" : undefined\n              },\n              title: value\n            }, value);\n          })]\n        }, index);\n      }\n    }), _jsxs(Text, {\n      children: [\" Score: \", totalScore, \" \"]\n    }), \"( confirmRestart ? )\", _jsx(RestartQuiz, {\n      handleRestartConfirmation: handleRestartConfirmation\n    }), \") : (\", _jsx(Button, {\n      title: \"Restart Quiz\",\n      onPress: handleRestart\n    })]\n  });\n}\nexport default Summary;","map":{"version":3,"names":["React","View","Text","FlatList","Button","CheckBox","styles","RestartQuiz","jsx","_jsx","jsxs","_jsxs","Summary","_ref","route","calculateCorrect","userSelected","correct","type","userCorrect","sort","toString","calculateCorrectSet","every","item","includes","totalScore","i","params","data","length","userChoices","style","container","children","renderItem","_ref2","index","choices","prompt","map","value","choiceIndex","incorrect","userDidSelect","containerStyle","backgroundColor","undefined","checked","textStyle","textDecorationLine","title","handleRestartConfirmation","onPress","handleRestart"],"sources":["/Users/katverret/Documents/quizApp/components/Summary.js"],"sourcesContent":["import React from 'react';\nimport { View, Text, FlatList } from 'react-native';\nimport { Button, CheckBox } from 'react-native-elements';\nimport { styles } from '../App';\n\nimport RestartQuiz from './RestartQuiz';\n\nfunction Summary({ route }) {\n  let calculateCorrect = (userSelected, correct, type) => {\n    let userCorrect = false;\n    if (type === \"multiple-answer\") {\n      userCorrect = userSelected.sort().toString() === correct.sort().toString();\n    } else {\n      userCorrect = userSelected === correct;\n    }\n    return userCorrect;\n  };\n  \n  let calculateCorrectSet = (userSelected, correct, type) => {\n    let userCorrect = false;\n    if (type === \"multiple-answer\") {\n      userCorrect = correct.every((item) => userSelected.includes(item)) &&\n        userSelected.every((item) => correct.includes(item));\n    } else {\n      userCorrect = userSelected === correct;\n    }\n    return userCorrect;\n  };\n\n  let totalScore = 0;\n  for (let i = 0; i < route.params.data.length; i++) {\n    if (\n      calculateCorrect(\n        route.params.userChoices[i],\n        route.params.data[i].correct,\n        route.params.data[i].type\n      )\n    ) {\n      totalScore++\n    }\n  }\n\n  return (\n    <View style={styles.container}>\n      <FlatList\n        data={route.params.data}\n        renderItem={({ item, index }) => {\n          let { choices, prompt, type, correct } = item;\n          let userSelected = route.params.userChoices[index];\n          let userCorrect = calculateCorrect(\n            userSelected, correct, type)\n\n          return (\n            <View key={index}>\n              <Text>{prompt}</Text>\n              {choices.map((value, choiceIndex) => {\n                let incorrect = false\n                let userDidSelect = false\n\n                if (type === \"multiple-answer\") {\n                  userDidSelect = userSelected.includes(choiceIndex);\n                  incorrect =\n                    userSelected &&\n                    !correct.includes(choiceIndex) &&\n                    userSelected.includes(choiceIndex);\n                } else {\n                  incorrect = userSelected !== correct;\n                  incorrect = userSelected\n                    && userSelected !== correct\n                }\n                return (\n                  <CheckBox\n                    containerStyle={{\n                      backgroundColor: userDidSelect\n                        ? incorrect === false\n                          ? \"green\"\n                          : \"gray\"\n                        : undefined,\n                    }}\n                    checked={\n                      type === \"multiple-answer\"\n                        ? correct.includes(choiceIndex)\n                        : correct === choiceIndex\n                    }\n                    textStyle={{\n                      textDecorationLine: incorrect\n                        ? \"line-through\"\n                        : undefined,\n                    }}\n                    key={value}\n                    title={value}\n                  />\n                );\n              })}\n            </View>\n          );\n        }}\n      />\n      <Text> Score: {totalScore} </Text>\n      ( confirmRestart ? )\n      <RestartQuiz\n          handleRestartConfirmation={handleRestartConfirmation}\n        />\n      ) : (\n        <Button\n          title=\"Restart Quiz\"\n          onPress={handleRestart}\n          />\n    </View>\n  );\n}\n\nexport default Summary;\n\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}